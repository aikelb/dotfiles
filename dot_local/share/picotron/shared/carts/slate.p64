picotron cartridge // www.picotron.net
version 2

:: gfx/
:: gfx/0.gfx
b64$LS1bW3BvZCxjcmVhdGVkPSIyMDI0LTAzLTE1IDIyOjE5OjIyIixtb2RpZmllZD0iMjAyNC0w
My0yOCAxMDoxNTozOCIscmV2aXNpb249MjddXWx6NADAAAAAcjEAAPAIe1swXT17Ym1wPXB4dQBD
IAgIBABXEBcCADFQV1AIAPMCEFeALGZsYWdzPTAscGFuX3gIAMt5PTAsem9vbT05fSxCACYXUAIA
Dz4AHwKAAAOGAAYCAA9IAB81MBdQAgAfoIYAID9QNzDEACQ1h1AXAgAfhzwAHzkANwAEAA9EABtf
EBAE8PAxAP--------------------------------------------------------------sFBt
PTl9fQ==
:: gfx/.info.pod
b64$LS1bW3BvZCxjcmVhdGVkPSIyMDI0LTAzLTE1IDIyOjE5OjIyIixzdG9yZWQ9IjIwMjQtMDMt
MTUgMjI6MTk6MjIiXV1sejQABAAAAAMAAAAwbmls
:: label.png
b64$iVBORw0KGgoAAAANSUhEUgAAAeAAAAEOCAYAAABRmsRnAAAc3klEQVR4Ae3dK5CjSACA4d5U
xMiRKyMjkUgkEhkZiRwZiYyMjIyMjEQikcjIyJUjR6y42r1rrtPTQBPe8H9VU8OjeaRJ_O2Py-Hw
WwAAgF6tmAIAAEYS4I3rG-8AAPOiv9-rvO9NfWjajFeOf7VZu-Cj9K-ufav-bazrXuCRxnxjAWAm
8f3zX32vP9I4D1jX73s9Vk2upx9bJ4RtkPNW5zMYA2z6IPLkAADAHHl9W1mQjQFWTyAPJr4AgDox
ekVZsMbKdM8282EMsDyhPMEUJwQA0E989NiYttWN_KvdqXPd6-k06NwVBlh_CNPEAgAwtFcir9qF
H4MG2hjgRxo3-mAAgHGT7-o-f480foqaXH8lgkP2w-a_y0JbFea2Pu_Py-Hwm68hAAD9WjEFAAD0
bx2nGbMAAEDPVkwBAAAEGAAAAgwAAAgwAAAEGAAAEGAAAAgwAJTxXUf4rvNtGSDAaP1l08VYYEm-
DWBu30kCPKKHysuo-_fBnAMY6h1MgHsSp5nVmDjNiEJPz8N3Havngn5fbnz-MeR7oc938JopH8eL
iBDwvJbwcit7scl9zC2W8pv_sQv83zyObh_y_mDLXkCmcbyMun0_VfNr_7wATDe_Q72DVzyO-ukP
lBf5OH_MPK-u5rzob2lzoC9jWe-g9dgnKrm-1Rrvbb9G_5D7OhaYwgtQjY6_vqQQYxqR7sJq7PF9
pOdaf3WD3fUPy-QDk9vkAy4bww_02x_YzYvf5nnxsgVxHuf8jfkd-GMX_L-HHN9XbNxQeNuvUXwB
5AOu_mEVjTNtR-s-0rJ5tn1ebVxraWGJ0_zb_pw-d9kL37SP3-_838GrMU7a5-1z9l8M_VD5gQ3-
HPQIdPm8eN7Pc7Ck2MjvWdF3Te6T30mb7yWm-Q5eE9-hHzwvZZ7XUudVBmcpoeG7w2961AGem7IX
TN3tfUnub42O97Zfxu3XWzza59THvY358w813-p-8J0Zev4ux0Nv72AC3LM4zb7FWV0fi0d6fum4
jRsW-hCij9fOCQB92R9CsQv8Xq5FgHuKbZxmwnedp8jKbaZj1GOHcoxutcYfooD4Api06OMsolNI
gOceZd91vq2PkQyrHuSi7UDpC_4U-n3JdXk_fZtpXb5sm96z7efp4nOrn6Ho-KZxNtFp814xwQAn
10-h7d5rHzP2_MrQxmn2tKzGeOzxldsOUSAOUfByhE0vA14A4wpcV_fs8hpV5zEFZ6rPuGzeTOPK
jlvSb059-kN97lEHeOxBfYXvOk8hNi0vKhZEtpcXtXzZqC-fonWbEJpeXqZz6tfOl7WxVuEou6bp
GiVjyj6Tur8q0kXXL5yDinvgN9Tv76JonQAr0nsihBDC3XqTf-BqcNXwjjW_x_gmDlEgDlEgjtHt
ad8hCvIxTX4IvFi6e7EUbtMCocfDFJGql5XxnPqxBYG3fQF_C5vhfKZYV52-KJp6xE33Y3PvtuPq
RNc25mW-saKx-PYWEmAZojjNhO864vpfbB3xS_xPB3H5ONYK7-50EN72axIhlvEdu6LANgkvke0x
yqZY1ngp1315T-X5tjUndeJYdQ9lx8t9VWFXx-F7JMDWZITrmEJ8hRDCd538-1gjfIiCQV96vAzq
z6XNnKnjql74bZyzrfvufP5augd9Luqc13bsWOZssr_Vj-PT93SouRw0wHp84jQTu70nrpfkKcK2
3rfvk4hunGYiTrOnz6-uG5Pk_lk5xtu9Pu_8RIZ-_bTx8qpzTnVs0fNvcr58WQ1hwTXlmDqfSY_f
zeepM67JHDaNyhii1OfvYGg-doH-eywBVrd93qtf-FOKrxrZMmMIcHJ-E4-03y9nnQAn10_xPx2E
t-162n_9xYQWwHTifArFLvA7v856bB9cBmi39-J1Ga6iOFXtH9tnmxIZ18poF8QXADCyAPuuk8dV
D5O6rWh5inHzXafwXsv2DSG5ftYaXxXf6BTyawOAMQS4LKhqcNVxZXEqizPq258OtcaXxVcIIbbX
8v0AMBb33dv8A1wlTrPZhbXos8jtvutYje9SVUyn6vN2W8TL4z0IeIMCE9B7gGVgbMIix1ZFeEzx
aivQVZ95qjL-Uzjxu8j8z79RdOL3wjFV5zEpOu6V_D7OntiESek20-of_nF1rmGzr2zc5_1GhIEl
BTi5v1mOu-_3VD3_-7GvjLc7xsTbfo0mxDLG_rY5RtkU2LIQFx3TpaogbsIkjzAAdB5g2-hORXJ-
az3CvuuIOM3y-0tXFta6Ia7jcfbyiMplNZjqPvW-Oq5sTNE19f1VkS66ftG9V90DgJkGGNVkdF_J
rzzGdx3j9qmRUa17TFsRNtHDpgdPj7ApinWCr0fcdD9V564zDgABhqXL5VI5ZhdO47Nc338_rTvx
e_0Im_L7SsiHUBTZumRs5TIAAmz3EkrPYuMWF6Nqv_01-vxvep6u_K4jhBAiTrPG8V0KU3jV7TLC
RePGoK1YPs5efi51GQABbvaSaiGaGzfMI4zxktF8JbxF57AN8SZMxOPsWYdTjlWX1fjpY-RY6tcz
bTMFtuzcVfcJYBp_7AL-d9OTJPe3wn1qEGUg1VDqy-KYouWqWKvji47R78nE2361Ptm_64g4zSrH
XS6XWX3J3t5-iu21-fms4-N2W9QP_z0IeLsBL7rv3sQu8Du-zqrLk8sY6pHTt5cF1XSMGtC6x6jb
bK67RMfotVgdo9vLxwLA0qyHuOir4bMNL4aJ9iEKCmP_eSPMfWK_AQLcyCM9P8X61XCPge86Ik6z
-P_rkZPU2MntcludcfqyHKOPtbmPoihHp_k_NwCYZIA3bige6dkqtHpwTfFVz1U0Tt2mHiPHFJ2n
azK6r8ZXD54aTFNQbceZzl_2v_g_qqINAOgxwKbAmYJnM_bVY22OQTvKotyr7MrDAECA0S4ZNBm4
puO6vA_5LzqFPDgAIMDTpgfvEAXGGNqMU7dVjT1Gt9rnBwB0HGBv_yWS_9tsJsXbfk06ynXGFR1r
Cmxb99GK7CqEs_MXDGDZAZ5itKaoSWiHuI9O4wsAE7diCjA5zo45AECA0b79fs8kAMDMrZkCIgwA
6N_KKQAAgAAD1bLr838AmKA1U4DJcXbMAYDJWzEFAAAQYAAACDAAACDAAAAQYAAAQIABACDAAACA
AAMAQICXwHcdJgEAQICJLwBgbNZMQbviNMtDLJcBACDADfmuUxhdAABsrZiCZvEti7LvOoXHAAAI
MGqI06x0HQAAG2umoL9Yz8X1Ftc_5td1xxcCs-ZzGzAJIMBd8l0nj6vvOvm6aZwcM6cQX2_xSJKE
LwKg8TyPCKOW1dJjWhRQEzWk6nGmwBJfYFmSJBG-7jcmAgT4lRjXDfGc4gp7nucNdo0_rm26pnrd
snvTx_l-pu3AUq2XHFs1oHGaPUW4KK56fIlwdRiSJGGCWtL3XHqel19TXbYZV3bclL8T6ned7zYI
cIPwqvvU7epYNcxFwTZtX1KceRH9-2I2hUcuF728TdtN5zOt25yLZ9zeM9bnmnkBAbZQFE3bWOqB
NgV76fFZ8ovbFF6bcUXj9XF6wKvOVfZM6nwmPfyvfAeKxhIvEOCFRbjuOBluNbKmmMtjbK8xx-gs
WRvBG_pey56fHnmbcXxfAALcWbx91-m2TnyW_7JV4zRkiJMkaTWAVdFdGn1_mRvMNsDJ-c3_Bbj9
6iW_MrRxmj0tqzFe6otpSfSXsCl8dWJo81KXY6qiKPfZXLvOvanXbBqhKUeM6KItP3aB-3us8b18
HK3H70_HziPsu85TiE3Lc3a9xbx8JsAUTPQ39z_3ARMxcb-uN7EL-M6vsxprfB-p_W9UbV0_jiK5
v3V6X2pw1f9LiC_mI0kS4gtMwHqMN_Vtv8TGDZ_37d7NL5vrZ_-3F6eZ8F1nkeH1PI9fDQDMNcDS
5eNYHYTde_8R9l0n-7_0CP-cXfnVAAV_XXdMAqYd4OT_Jh7pWWzcMI_wHlkZXm-33mt04zQTcZo9
xVfdBwDAZAPsbb-Exg2-BTcP9H8x7iu_phDrywAATD7A0uXj_LSeXD-z6MoI9yVOM74tAIB5Bzi5
v4lHehYbN3yKsIyv-K_GuWu_6xSGuGwfMCWPs9fp_TdhwiQD-1mN8aa87ZfYuGHvke0i2AAAmKzH
fHOXj2NvEZbBjNPMGFC53cR0jDpePzdQ5HH2Oj3-JkyYZIAAF0vub_KRnsXGDb9FuMj_dGj1HuI0
E77r1IqmHt2yY_ueGwBAgDvnbb-Exg1rhVUGu0lw9TA2CaR6rHpu035gLDZhUv47O3uNjgcw8gDr
YbWRXD9HP9lqdNXQw-4F33VgwPMHFh9gb-slkvubdVj3p8PfY9qIpO8634LZZYyBtgLSdcAALCDA
MsL708F6LIFEU1UBqwogAMwiwF2ElfgCAAgwUNMmTEr3P84ek7Tg5w8QYACdeJw9JgGYiRVTAABA
-9ZNDr5cLouZqP1_z7cFADB8gJcUX-l5ifD4bcKESZixx9nj_YMAA_hfVWCqAgVgPFZMAQAABDh3
jG69nqet6wEAYGPNFGBKHmev0fGbMGESJ4znhzlZtX3CY3TL-8tl07rtNnXd5viqe9HPXXbPAABM
JsAyZIcoEIco_LauBk7fph_njpP7TGOLoinPYzrnK_MAAGjLuouTmiJmimRROOuE-pV7k8cRWwDA
rAJsE_VjdMu32YTUFMtXAqpflwiPyyZMGh3-OHtMIgACrIZSjewhCr5tM42re05TVNVxZbG1HQcA
wCgDXBQv03abbWXrr5yz7HjCCwCYbIAxPr7rfNsWpxkTAwAEGH3GV24fY4QfZ690-yZMeKgAZmH1
6oH7-X5REzXlz6uHdozhBYClWS81SgAATDbAmAbfdYQQQsRpJnzXydeBujZhwiQABBg2ZHTVEMvt
U-Q4ezzUBWv6-DdhwiSCAL9CDcjUQzJUiNUgY3yaBoLAAAS4l-jK7US4Or6m-6jvcfYIJIBWrKYY
kqL1pfNdR-iu87Ss-tlsBwD0Y80UzFucZk_B1tfHZhMmPLQF4-mDAI_UDEacZsJ3nVEGZMi5UeNq
miO5zRRo_V8-DwBg4QFW46FHBeXzVhRpPcYQYhMmTAKAXqymGhTCaz9Xvuvk8ZXLRXOojwEAEOBv
8SXC-1LjWrRP7leXbeYaALCgAPuukwdCLqt-NtuXRMbSFE25TZ2fqsDKQC9tHgGgT_upRUZGRF9f
sjpRLRsDAFhwgPVIyHCokZXbTIGW-5cQm_T_9t--_39b-l3XeduvfL7qzAuxBoAFBdgmBnpE9Bgv
ySM9l0f6_in2p4MQInuaNzlnRBYAhrGaUnx918kjIpfLIrLkMKsuH0eR3N_e5hAAMKz1mG5Gjase
VXVb0XJRuPFvhPeng-C2X42eAwCgHasxxbcsnGpw1f9lgVDPiX8jnNzf8rkpmh85p8QXALqzntoN
x2kmfNchDpa83fvzhhNzAgAEWAjhu04e1jrjqyIs98nx_valU_eHOQGA763p_t04WIDrhFcdG6fZ
08RUnWcpoTlGt7_f9xAFT8sAgPr66MVgAZYhfSXa_vJYJnNIamzrhFd9DnOfIwAYk8ECbHrhJ-c3
47jkfn9a97ZfPDnNMbo9BViu28aY_ALAggJs8kjPpfuT66fYnw55hH3XISCG0NqGl7kDgGGspnjT
l4_jSO5vhftllJfkGN3EMbo9Lct1W77rLHLuAGAI6zHchHzpJ-d7rQjvTwchRPYtunH6vE2uz9kh
CozLAAAC3DoZYW-79RRZ33UWEd02MWcAsIAA_67ztP7-i-_t8lhv9-684fR9TJxmBAUAQIAJZHc2
bsgkAAABrhfhMsfo9nfcIQqelm34rrOIh_dtv4TvOiJOs-z-K9o4BwBgIgGuosbWNrxq3JcSYRnM
JuFs4xwAgJkE_BjdngIs121jTEwAAAT4BXpobcMLAAABbuAY3fLwyuU5hPhyuUz23q-vP-nFAMDc
A6yGdurRnUN8AQDtWjEFAAAQYAAAFmE9thvauOHiHsIxuolDFFiNE0LkY-X1Lq5X99wAgAkG2Nt_
8URKHKIgj65pHUA9j7OXL2-ChAnBcgO8ZDKkhygo3fbKeUz71XHH6JaPl8umccDc4qtGV18HurZi
CsbhEAXfwqdvs4lv1TEypHJc2f3YjAMAvGbNFIyXbXjbiL_8FrHF3DzOXr68CZPejgUaB-hyuTBL
Qoj9ft-7NfuK4TG65ddSl4E5xFcNp7q_CZPSwJYdC3QeYOL7PBd9RvgQBeIY3Ywx1iMp19VjysYX
jSu7B6KMOSKoGG2A0YzvOiJOs-x-Weiqlou2Va3bbCu7JuEFAAI8OTbxBdCdTZiIx9l7Wu-jWMDG
qusLHKNb5TbTuum4Otew2Vd3nO86T38AphFh_dfnscDgATY5REGj-WNRN8L7-Z5vHABACCHE_pWD
jtEtj6RcPka3bwGV2_R-dVzZmKJr6vvVa5Ydo1_-6N6r7kEVp5l1gH3XEXGaEWFgwh5nL1-ehAkT
gsZWbZ7sEAXGyMrtpriZxhQFX49l2TG2564zDsB0Yin-2jrfJkzyv7bOi2VbT_VGZXibUiP_Smzj
NBO_6wjfdQrH_K4j4jTLxwPoN76bMClcBwjwC_FsK_TyXOqyLTW8ZXFVIwwAQCsBPkSBOEa32mPV
ZTV__hg9lvr1TNtMgS07d9V9msRplodVDXHRWADzsAkT8Th7T_tAUz92gf_7aOflcmGGFPv93mqc
jPTcXG_x_Lm78kXA6A0Vy1-Xnfi5DXgAE-frfhO7wO-8Omum2p4Mq_863-ap2_cYX2BK_owuQIB7
ICOrBtYUYwAAGgV4v9_Ly_XCLAkhrudTHl89ujLIapgBjMPj7OXLmzDp7VigUYBlhJdMRrdsHcB4
46uGU1-v6ljAxoopKCdj67tOHl_5rO4HAKCONVNQTYa3bHmJHmdPbMJkkGv0cW0s53ss8Z0q9_t_
W8xnvd7iyjG7wCfAXVODq4Z3yfEdGi9K2H5PygL7OHtP29T1qmOXGN-o48yXShGdwkYRJsA1Qyzj
i2LypSVfWOpLTS4XvdhM203nM63bnAvLjPAQxxLfBQT449wowium0J7vOk--UfzS0iNrM07GWf4V
jTO9FMvOBWACMTuFrYyve54hrXnsdtGN00zEaSZ81xFxmn3bV3XsklSFFxiLTZg8fV83YcKktBjO
6ONsHG-aPqbPo9_f_hnbvHcCXDPE_rI_ZmmxNcVXvsSGDLH_YgXKvitoEKyGQTIFXG5Tz10WQRnN
-Djt_KJ1m-vXg2wKNAHuiE1Q9TjLY_T-OYdZjdyf6JnCZxtDfVzRi1GOUWNf9mJVz6kfU7UOoH5A
q0JpWlfjqW6TYS2K3tN4w1jT_fQYm5b7QIAt42oKaNm_JSgKlWm7vk1dL1ou2md7Lhle2-OXfSYA
dpHtIuoyrPr1_g4mAZ6gOM0WH_shEFOghwBrsSyKc51YmsbJbep5ZJhfibAe9KLzqPEvujcC3HFA
62yve56p2AW_uF534ufuypcC0Py67sTPbbC8ADcIkh63ouCVBVCPsDo__jh-W3-lvtuMrurHLvB-
89Mp5rvO5MPZtustZhIAzZzj__t_6yxCQ1CD3ca5doH-0rFrfjaoq_6X7XqLxc-dtb8bzHq8FoDp
Bbil_DZFgEv4riPiNMv-A8Bio3UKmQQC3B8ZXeILYOmSJGESDDzPe-nYFdMHAED-1nP5IMn9zbjd
2341Oq-vOn9OI_I049sCACDAenxD38-X3a2XL_9Ph8YRBgBgsQFO7m_F_4ri25Y4zfimAIDp3Xy7
58tesP223vc9mPR1H7MMcHJ-E5ePI990AJhpwJtGsuj4qjh3fV9lVjx_AMCQ8W0Syi7vq8v4EuAK
vuuIOM2E7zpMBgAY-ImU-DOt28R3TBHuK75CCLHm61MsTrOn-wCA4mj_iZa_XhbuNoPXRrz7jC8B
BgDMgimadaLcd3wJMABgFJoGsCi2NucbIr4EGADQiB6tuhFrI3pNz9F3eKUVXx8AAAgwAAAEGAAA
EGAAAGZjPYWb9LZfYn86vHwsAKAZ19kyCUsMMCEFAMzNiikAAIAAAwBAgAEAQDfWXV-gcrlMfpL2
_-0sHrbvOiJOM771ADACK_K7nM8hIwwAGN6aKViWOM2YBACTsnFDq3GP9EyAMQ2_6xBoAKOVZnex
C0-WYd244aQiPEiAj9EtXz5EQaPz1D3_lWPmElo1rqb4yu1EGMCY4qs2o8wjPU8qwoMEWA1vkyAu
LaRti9PsKcT6OgCMKb5F73w55hjdJhXhwQJsmsBDFOQTqQbaNPE24-QHpz4k07FzjXqcZvyiAUwm
vlWS6_ff-97ufdKfdTVkcGV09QirYZTraiRNodXHqdvkWPW-6RpzjK-vOk--TftkoMvGmPYBwJCS
62ce4ylaD3VhU_yaBFAPdJ37kMfOMcBxmgnfdfLI6tv1uBaN07cDwFC83fvTehoR4EE1iac89hjd
Zhlh20CrIQaAsUmun6UhJsAtR-UY3SojqY6T66ZtpnOaxiwpvqb-ADBGMrh6iAlwzbDabDNtN0W5
yTmXEl3fdUScZsJ3HWOI62wHgDGEmACPJOCoJ06zb3FW1wGgaxs3FI-0bD0_uX7O6vNPMsB4PbZx
mgnfdZ4iK7eZjlGPBYC241sW4eT6KQ5RII7RTQghRHpPSs95iIJJRbrTAO-3e3G5XCb-Rdnv97OO
su8639YBoA_2EbYxpfh2HuA_4yWjEafZ0zKK41s0Z8wbgKEjfD1-iF14EJePY62w7k_HwpiPzWoO
D893nTwc_jKYMwDTibDrbJ8ivD8dZhlfIYRYz_HBxWmWR0WPC5gzAOO2ccM8wkII4TpbkWb3PMK7
0C7CU4rvbAKsRkWGBMwZgPF6pOen8MplSY9wGdfZTnIOZhVg33Xy-wSFOQMw-giblqceVlurqURC
hqJsnwyI-F923NKjy5wBwLDWU4yHjIW_3bSM8rlkzgA0tXHDWX2eR3omwKbgxmn2FAtTjFGOOQNA
fMs-Ux8RXk1tYmSQ5Z-vOk9B1scW7VuyvudsF-ji13XHxAOAYj32UOjiNOOpTdAu8MWVCAPANAIc
p5kxwnWCTLD-J_dyqDnbBf4s5pDvFPPV52-T9nfbpestbuU8j-T89--GDSvHVY1pes02r-Gq1di-
mPx42-lxyxch89n8JSn-g-lqa57Kfpty3xzmse-gycia4jsGa77_838BzuXHO-QcynmUL0p1H5gv
mANYFV85Ru6X60Xbq85TFXoZ5TFEeDXnFwHh_Z-NS485K58bOS-qMpivpvNU5zc8pbmUoZN-ReR_
PbDqceq5ysJpGvPn2DHE1mQ99_DYhGeuP_q6n33Jc1Y1J2C_upqvukGdyhyboloUatugv3ofasTV
c6nbhrDiJzCv8PquI_I040XY8pzW3cd8MV9dBHVqv_s-EVZDbIqqHGN7rqqYV0VVPceQ8Z19gJf2
g2-jx8lLsvn8gfnq_nc2hd_pjKEpiDLIMs56oPXt6ro61nScei31uKFja7LmFUCECcD-86a-1Mrm
03SMvm2Oz0P9bG3N19znbImKgqdvbzLOJqq25yfABIk5G8Fn912n1hzoEVnS-DFf9TX9zEucsybB
H7PZBxjQX15FMSjb1mWQpj5nTeeLqGCpCDAWZY6BZM4wpEd6Fhs3nN1nIsANyBcGLw7mzBSULueQ
OWPOuvqNjfU32lew5ubHLvB-Mw1A_y9ZMGdzcb3F4uvzFxNh8Pb_U_wC-6VjV0wf0C5CwpwBBBgA
AAIMAAAIMADAyi7wxdv7TyZC8-b_U_wC-_Xj10whAIAIvzYnTRBgAEAvwcGzFVMAAAABBgCAAAMA
AAIMAAABBgAABBgAAAIMAADK-QPt6k7oYl6CHAAAABB0RVh0TG9kZVBORwAyMDExMDIyMeNZtsEA
AAAASUVORK5CYII=
:: main.lua
--[[pod_format="raw",created="2024-03-15 22:19:22",modified="2024-03-17 22:50:33",revision=381]]
-- SLATE
-- scrapSavage's Lovely Advanced Text Editor

-- ! ! !

-- THIS IS A LAUNCHER,
-- if you're looking for the Slate src go to
-- the folder you installed it to :)

-- ! ! !

local preferences = fetch(pwd().."/pref.pod")

local status = "Checking for install"
local icon = true

local gui

window({
	width=200,
	height=100,
	x=140,
	y=95
})

function draw_loading()
	if icon then
		print(status.."...",3,90,7)
		for i=1,8 do
			circ(sin((t()/1.5+i/8))*(10+sin(t())*2)+182,cos((t()/1.5+i/8))*(10+sin(t())*2)+82,2,7)
		end
	end
end

local drw = draw_loading

local downloaded = false
local chosen_path
local download_time = 0

local latest_src = fetch("https://raw.githubusercontent.com/scrapSavage/SLATE/main/main.lua")

function download_latest()
	mkdir(chosen_path)
	mkdir(chosen_path.."/install")
	store(chosen_path.."/install/slate.lua",latest_src,{})
	downloaded = true
end

function launch()
	create_process(preferences.install_path.."/install/slate.lua")
	exit()
end

local draw_elements = true

function _draw()
	window{
		title=status.." - SLATE"
	}
	cls(16)
	for i=0,4 do
		sspr(i,0,0,8,8,i*32+20,8+sin(t()+i/4)*4,32,32)
	end
	drw()
	if draw_elements then
		gui:update_all()
		gui:draw_all()
	end
	if downloaded and (download_time+3<t()) then
		launch()
	end
end

function txtw(txt)
	return print(txt,0,-1000)
end

function check_install()
	local installed = fetch(preferences.install_path.."/install/slate.lua")!=nil
	if not installed then
		status="Installer"
		drw = draw_install
		local reject = gui:attach_button({
			x=125,y=75,
			width=23, height=15,
			cursor="pointer",
			label="No",
			tap=function(self) exit() end
		})
		local confirm = gui:attach_button({
			x=48,y=75,
			width=23, height=15,
			cursor="pointer",
			label="Yes",
			tap=function(self)
				gui:detach(reject)
				drw=draw_filepath
				setup_install()
				gui:detach(self)
			end
		})
	else
		if preferences.auto_update then
			status="Checking for updates"
			chosen_path=preferences.install_path
			download_time=t()
			download_latest()
		else
			status="Launching"
			if (fetch(preferences.install_path.."/install/slate.lua")!=latest_src) then
				drw = draw_update
				status = "Update available"
				setup_update_prompt()
			else
				download_time=t()-2
				downloaded=true
			end
		end
	end
end

function setup_update_prompt()
	local confirm
	local reject = gui:attach_button({
		x=131,y=75,
		width=48, height=15,
		cursor="pointer",
		label="No",
		tap=function(self) gui:detach(confirm) downloaded=true status="Launching" drw=draw_loading download_time=t()-2 gui:detach(self) end
	})
	confirm = gui:attach_button({
		x=78,y=75,
		width=48, height=15,
		cursor="pointer",
		label="Yes",
		tap=function(self)
			gui:detach(reject)
			drw=draw_loading
			status="Installing latest"
			chosen_path=preferences.install_path
			download_time=t()
			download_latest()
			draw_elements=false
			gui:detach(self)
		end
	})
end

function setup_install()
	local do_updates = false
	local update_checkbox = gui:attach({
		cursor="pointer",
		x=22,y=68,
		width=9,height=9,
		draw=function(self)
			clip()
			rect(0,0,8,8,7)
			if do_updates then rectfill(2,2,6,6) end
			print("Allow auto updates",14,1)
		end,
		tap=function(self) 
			do_updates=not do_updates
		end
	})
	local path_text = gui:attach_text_editor({
		x=22,y=54,
		width=157,height=12,
		max_lines = 1,
		bgcol = 0
	})
	path_text:set_text(preferences.install_path)
	local reject = gui:attach_button({
		x=131,y=80,
		width=48, height=15,
		cursor="pointer",
		label="Cancel",
		tap=function(self) exit() end
	})
	local confirm = gui:attach_button({
		x=78,y=80,
		width=48, height=15,
		cursor="pointer",
		label="Confirm",
		tap=function(self)
			gui:detach(reject)
			drw=draw_loading
			chosen_path=table.concat(path_text:get_text())
			path_text:detach()
			store(pwd().."/pref.pod",{auto_update=do_updates,install_path=chosen_path})
			status="Installing latest"
			download_time=t()
			download_latest()
			draw_elements=false
			gui:detach(self)
		end
	})
end

function draw_filepath()
	print("Install location:",22,45,7)
end

function draw_install()
	print("You do not have SLATE installed.\nWould you like to install it now?",21,48,7)
end

function draw_update()
	print("There is an update available,\nDo you want to download it?",21,48,7)
end

function _init()
	gui = create_gui()
	check_install()
end
:: map/
:: map/0.map
b64$LS1bW3BvZCxjcmVhdGVkPSIyMDI0LTAzLTE1IDIyOjE5OjIyIixtb2RpZmllZD0iMjAyNC0w
My0yOCAxMDoxNTozOCIscmV2aXNpb249MTZdXWx6NABoAAAAWBAAAPAIe3tibXA9dXNlcmRhdGEo
ImkxNiIsMzIDAC8iMAEA--------------------_-EIIiksaGlkZGVuPWZhbHNlLHBhbl94PTAI
ANJ5PTAsdGlsZV9oPTE2CgAQdwoAgHpvb209MX19
:: map/.info.pod
b64$LS1bW3BvZCxjcmVhdGVkPSIyMDI0LTAzLTE1IDIyOjE5OjIyIixzdG9yZWQ9IjIwMjQtMDMt
MTUgMjI6MTk6MjIiXV1sejQABAAAAAMAAAAwbmls
:: pref.pod
b64$LS1bW3BvZCxjcmVhdGVkPSIyMDI0LTAzLTE2IDE2OjI3OjQ0Iixtb2RpZmllZD0iMjAyNC0w
My0xNyAyMzoxNDo0MyIscmV2aXNpb249MjVdXWx6NAAyAAAAMQAAAPAVe2F1dG9fdXBkYXRlPWZh
bHNlLGluc3RhbGxfcGF0aD0iL2FwHQCQYS9TTEFURSJ9
:: sfx/
:: sfx/0.sfx
b64$LS1bW3BvZCxjcmVhdGVkPSIyMDI0LTAzLTE1IDIyOjE5OjIzIixtb2RpZmllZD0iMjAyNC0w
My0yOCAxMDoxNTozOCIscmV2aXNpb249MTFdXWx6NAAQAQAAUQcAAPAncHh1AAMoAAADAAQPQBAC
DgABoAEgAqAOAA8QAA3wygECAwQFBgcAD-_QCAkKCw8MDw0PDg8PEADwAA0PEQ8SDxMPFA8VDxYP
FxMA8QEPGA8ZDxoPGw8cDx0PHg8fFADxACAPIQ8iDyMPJA8lDyYPJxQA8QAoDykPKg8rDywPLQ8u
Dy8UAPEAMA8xDzIPMw80DzUPNg83FAD-BTgPOQ86DzsPPA89Dz4PPwAP--D-AQDr-ydaARAGDyAQ
ASABIAHwAAIQAgwQASAPISABMA9A8MMPKA--8MYP_AoP-w_AD-cPDQHwCQEQBgwwAP85H-8BANy-
_A9AAA1A--_w8HAKAP--ZB--AQCXUP----8f
:: sfx/.info.pod
b64$LS1bW3BvZCxjcmVhdGVkPSIyMDI0LTAzLTE1IDIyOjE5OjIyIixzdG9yZWQ9IjIwMjQtMDMt
MTUgMjI6MTk6MjIiXV1sejQABAAAAAMAAAAwbmls
:: untitled.txt
--[[pod_format="raw",created="2024-03-16 20:14:45",modified="2024-03-17 01:26:35",revision=36]]

:: .info.pod
b64$LS1bW3BvZCxhdXRob3I9InNjcmFwU2F2YWdlIixpY29uPXVzZXJkYXRhKCJ1OCIsMTYsMTYs
IjAwMDAwMDAxMDEwMTAxMDEwMTAxMDEwMTAxMDAwMDAwMDAwMDAxMDcwNzA3MDcwNzA3MDcwNzA3
MDcwMTAwMDAwMDAxMDcwZDBkMGQwZDBkMGQwZDBkMGQwZDA3MDEwMDAxMDcwZDBkMGQwNzA3MDcw
NzA3MDcwZDBkMGQwNzAxMDEwNzBkMGQwZDA3MDcwNjA2MDcwNzBkMGQwZDA3MDEwMTA3MGQwZDBk
MDcwNzA2MDYwNjA2MGQwZDBkMDcwMTAxMDcwZDBkMGQwNzA3MDcwNzA3MDcwZDBkMGQwNzAxMDEw
NzBkMGQwZDA2MDYwNjA2MDcwNzBkMGQwZDA3MDEwMTA3MGQwZDBkMDcwNzA2MDYwNzA3MGQwZDBk
MDcwMTAxMDcwZDBkMGQwNzA3MDcwNzA3MDcwZDBkMGQwNzAxMDEwNzBkMGQwZDA2MDYwNjA2MDYw
NjBkMGQwZDA3MDEwMTA2MDcwZDBkMGQwZDBkMGQwZDBkMGQwZDA3MDYwMTAxMDYwNjA3MDcwNzA3
MDcwNzA3MDcwNzA3MDYwNjAxMDAwMTA2MDYwNjA2MDYwNjA2MDYwNjA2MDYwNjAxMDAwMDAwMDEw
NjA2MDYwNjA2MDYwNjA2MDYwNjAxMDAwMDAwMDAwMDAxMDEwMTAxMDEwMTAxMDEwMTAxMDAwMDAw
Iiksbm90ZXM9IldpbmRvd2VkIGNvZGUgZWRpdG9yIGZvciBQaWNvdHJvbiIscnVudGltZT00LHN0
b3JlZD0iMjAyNC0wMy0yOCAxMDoxNTozOCIsdGl0bGU9IlNMQVRFIix2ZXJzaW9uPSIwLjEiLHdv
cmtzcGFjZXM9e3tsb2NhdGlvbj0iZ2Z4LzAuZ2Z4Iix3b3Jrc3BhY2VfaW5kZXg9Mn0se2xvY2F0
aW9uPSJtYXAvMC5tYXAiLHdvcmtzcGFjZV9pbmRleD0zfSx7bG9jYXRpb249InNmeC8wLnNmeCIs
d29ya3NwYWNlX2luZGV4PTR9fV1dbHo0AAQAAAADAAAAMG5pbA==
:: [eoc]
